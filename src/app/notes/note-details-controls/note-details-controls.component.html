<div class="node-details-controls-container">
    <span class="back-button" title="back" (click)="onBack()">
        <fa-icon [icon]="faChevronLeft"></fa-icon>
    </span>
    <fa-icon
        class="spinner" 
        *ngIf="loading"
        [icon]="faCircleNotch" 
        [spin]="true" 
    ></fa-icon>
    <span
        *ngIf="isViewing()"
        class="options-button right"
        title="options"
        (click)="toggleOptions($event)"
    >
        <fa-icon [icon]="faEllipsisV"></fa-icon>
        <app-options 
            [hidden]="!isOptions"
            [options]="options"
            (select)="onOptionSelected($event)"
        >
        </app-options>
    </span>
    <app-color-picker 
        *ngIf="isViewing()"
        class="color-picker right"
        [color]="currentNote?.color" 
        (pickColor)="setColor($event)"
    ></app-color-picker>
    <span
        *ngIf="editing || !currentNote?.id"
        class="save-button right" 
        title="save changes"
        [class.disabled]="disabled"
        (click)="onSave()"
    >
        <fa-icon [icon]="faCheck"></fa-icon>
    </span>
    <span
        *ngIf="editing && currentNote?.id"
        class="undo-button right"
        title="undo all changes"
        [class.disabled]="disabled"
        (click)="onUndoEdit()"
    >
        <fa-icon [icon]="faUndo"></fa-icon>
    </span>
</div>
